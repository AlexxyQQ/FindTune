{% extends "Home.html" %}
<!--  -->
{% block MusicListeningArea %} {%endblock MusicListeningArea%}
<!--  -->
{% block LoginSignupPage %} {% endblock LoginSignupPage %}
<!--  -->
{% block Previews %}{% endblock Previews %}
<!--  -->
{% block Footer %} {% endblock Footer %}
<!--  -->
<!--  -->
{% block UserProfile %}
<!-- Csslink  -->
<link
   rel="stylesheet"
   href="{{ url_for('static', filename='/CSS/UserProfile/UserProfile.css') }}"
   />
<!--  -->
<script
      type="text/javascript"
      src="{{ url_for('static', filename='JS/UserProfile/UserProfile.js') }}"
    ></script>

<!--  -->
<section class="UserProfile">
   

      <section class="ProfileArea">
         <form method="POST" action="/{{ current_user.username }}" enctype="multipart/form-data">
            {{ form.hidden_tag() }}
            <div class="UserProfileBox">
               <div class="upload-btn-wrapper">
                  <button class="Button UserImage">
                  <img
                     src="{{ url_for('static',
                     filename='Assets/userimage/' + current_user.image_file) }}"
                     alt="{{ current_user.username.upper() }}"
                     class="UserImage Img"
                     />
                  </button>
                  {{ form.picture.label() }}
                  {{ form.picture(class="") }}
                  {% if form.picture.errors %}
                  {% for error in form.picture.errors %}
                  <span class="">{{ error }}</span></br>
                  {% endfor %}
                  {% endif %}
               </div>
               <div class="UsernameEditBox">
                  <div class="UsernameBox">
                     <span span class="UserNameDisplay"
                        >{{current_user.username.upper()}}</span
                        >
                     <button type="button" onclick="DisplayUserEdit()" class="DisplayEdit Button">
                     <img src="{{ url_for('static',
                     filename='Assets/edit.png') }}" alt="" class="Img">
                     </button>
                  </div>
                  <div class="UserNameEdit Hidden" id="UsernameEditForm">
                     
                     <!--  -->
                     {% if form.username.errors %}
                     <!--  -->
                     {{ form.username(class="Textbox Username ",placeholder=current_user.username,value=current_user.username) }}
                     <div class="invalid-feedback">
                        {% for error in form_signup.username.errors %}
                        <span class="Error-Message">{{ error }}</span>
                        {% endfor %}
                     </div>
                     {% else %}
                     <!--  -->
                     {{ form.username(class="Textbox Username",placeholder=current_user.username,value=current_user.username) }}
                     <!--  -->
                     {% endif %}
                  </div>
                  {{ form.submit(value="UPDATE",class="Submit Form-Login Button") }}

               </div>
            </div>
         </form>
      </section>
      <section class="AccountNav">
         <div class="NavItems">
            <a href="/activity" class="NavItem Button">Activity</a>
            <a href="/favorites" class="NavItem Button">Favorites</a>
         </div>
      </section>
   <section class="OtherArea"></section>
</section>
{% endblock UserProfile %}